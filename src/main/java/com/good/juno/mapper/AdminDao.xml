<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.good.juno.dao.AdminDao">

	<insert id="memberInsert">
		insert into member VALUES (#{param1}, #{param2},
		#{param3},
		#{param4},#{param5},#{param6},#{param7});
	</insert>

	<select id="membercheck" resultType="int">
		SELECT count(id) FROM member
		WHERE id = #{param1} AND pw = #{param2}
	</select>


	<select id="getInfo" resultType="com.good.juno.dto.LoginDto">
		select * from member where id =
		#{param1}
	</select>

	<select id="memberall" resultType="com.good.juno.dto.LoginDto">
		SELECT * FROM member
	</select>

	<select id="admin" resultType="String">
		SELECT admin FROM member where id
		= #{param1}
	</select>

	<delete id="member_del">
		delete from member where id= #{param1} ;
	</delete>

	<delete id="designer_del">
		delete from designer where designerId= #{param1} ;
	</delete>

	<insert id="branch_register">
		INSERT INTO branch (branchName, address, openingTime,
		parking, contact,branchPath) VALUES (#{param1}, #{param2}, #{param3},
		#{param4},#{param5},#{param6});
	</insert>

	<insert id="designer_register">
		INSERT INTO designer (designerId, designerName,
		introduce, designerPath, branchId) VALUES (#{param1}, #{param2},
		#{param3},
		#{param4},#{param5});
	</insert>

	<select id="branchlist" resultType="String">
		SELECT branchName FROM branch
	</select>

	<select id="branchid" resultType="int">
		SELECT branchId FROM branch
		where branchName = #{param1}
	</select>

	<select id="desingerall"
		resultType="com.good.juno.dto.DesignerDto">
		select a.*, branchName
		from designer a, branch b
		where a.branchId = b.branchId
	</select>


	<update id="qna_reply">
		update qna set answer = 1 and content = #{param2} where qnaid =
		#{param1}
	</update>
</mapper>